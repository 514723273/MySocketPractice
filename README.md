Some programming practice about sockets